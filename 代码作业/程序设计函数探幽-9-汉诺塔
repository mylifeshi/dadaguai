#include <iostream>
using namespace std;

int s = 0;                               
void zz(int n, char f, char t, char a) {
    if (n == 0) return;                    
    zz(n - 1, f, a, t);            
    cout << ++s << ". " << f << " -> " << t << endl;
    zz(n - 1, a, t, f);            
}
int main() {
    char a, b;
    int n;
    cin >> a >> b >> n;
    zz(n, a, b, 'A' + 'B' + 'C' - a - b); 
    return 0;
}